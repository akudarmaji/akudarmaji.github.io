<html lang="en" class="scroll-smooth>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<head>
  <meta charset='UTF-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0'>
  <title>Alquran</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Lateef:wght@400&display=swap" rel="stylesheet">
<script src="https://telegram.org/js/telegram-web-app.js"></script>

       <style>
        body 
        {
           font-family: "Lateef", serif;
  font-weight: 400;
  font-style: normal;
        }
      #loading {
        position: fixed;
      }
      ul {
        margin:5px;
        padding:10px;
      }
      li {
         direction: rtl;
        list-style-type: none;
         color: #009094;
        font-size: 250%;
        border-bottom: 2px solid #CCC;
      }
      h1 {
        text-align: center;
    color: #4d918f;
}
   </style>


</head>

<body>

  <div class="d-flex justify-content-center">
    <div class="spinner-border" role="status" id="loading">
      <span class="sr-only">Loading...</span>
    </div>
  </div>
  <section id="section">
    <ul id='ayat'></ul>
  </section>
</body>

<script>

    const id=  new URLSearchParams(window.location.search).get("id");
  const API_URL = `https://api.quran.com/api/v4/quran/verses/indopak?chapter_number=`

  async function fetchPosts() {
    const response = await fetch(`${API_URL}${id}`)
    let data = await response.json()

    if (response) {
      hideloader();
    }

    show(data)

  }

  function hideloader() {
    document.getElementById('loading').innerText = 'none';
    document.getElementById('loading').innerHTML = `<h1>بِسْمِ اللّٰهِ الرَّحْمٰنِ الرَّحِيْمِ</h1>`
}


  function show(data) {
    const ayat = data.verses;
    for (let i = 0; i < ayat.length; i++) {
  const listItem = document.createElement('li');
  listItem.id = i;
  listItem.textContent = data.verses[i].text_indopak;
  document.getElementById('ayat').appendChild(listItem); 
    } 

const API_URL_TERJEMAH = `https://cdn.jsdelivr.net/npm/quran-json@3.1.2/dist/chapters/id/${id}.json`;

    let tangkapSemuaList = document.getElementsByTagName('li');
for (let i = 0; i < tangkapSemuaList.length; i++) {
  var list = tangkapSemuaList[i];
  list.onclick =async function() {
    const id = event.target.id
    console.log(id)
    const response = await fetch(`${API_URL_TERJEMAH}`)
    let data = await response.json()
    const data_terjemahan = data.verses[i].translation
    const terjemahan = document.getElementById('loading').replaceChildren(data_terjemahan)
    
    // alert(terjemahan)
  };
}
  }

    fetchPosts()
</script>

</html> 


























